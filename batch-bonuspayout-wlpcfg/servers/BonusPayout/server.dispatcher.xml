<server description="Dispatcher">
    <include location="common.config.xml" />

    <!-- Enable features -->
    <featureManager>
        <feature>wasJmsClient-2.0</feature>
        <feature>batchManagement-1.0</feature>
        <!-- This sample can work with or without CDI configured -->
        <feature>cdi-1.2</feature>
    </featureManager>

    <!-- To access this server from a remote client add a host attribute to
        the following element, e.g. host="*" -->
    <httpEndpoint host="*" httpPort="9080" httpsPort="9443" id="defaultHttpEndpoint"/>

    <logging traceSpecification="BonusPayout=all=enabled:com.ibm.ws.jbatch.jms.*=all:com.ibm.ws.jbatch.container.*=all"/>
    
    <batchPersistence jobStoreRef="BatchDatabaseStore"/>

    <applicationMonitor updateTrigger="mbean"/>

    <keyStore id="defaultKeyStore" password="Liberty"/>

    <basicRegistry id="basic" realm="ibm/api">
        <user name="bob" password="bobpwd"/>
        <user name="jane" password="janepwd"/>
    </basicRegistry>

    <ssl id="defaultSSLConfig"
         keyStoreRef="defaultKeyStore"
         trustStoreRef="defaultTrustStore"
          />

    <keyStore id="defaultKeyStore" password="Liberty" />

    <!-- inbound (HTTPS) keystore -->
    <keyStore id="defaultTrustStore" 
               location="${java.home}/lib/security/cacerts" password="changeit"/>

    <authorization-roles id="com.ibm.ws.batch">
        <security-role name="batchSubmitter">
            <user name="bob"/>
        </security-role>
        <security-role name="batchAdmin">
            <user name="jane"/>
        </security-role>
    </authorization-roles>

<batchJmsDispatcher connectionFactoryRef="batchCF" queueRef="batchQ"/>

</server>
